name: Terraform AWS Observability Synthetics Module
#logo: logo/logo.jpg

license: "APACHE2"

copyrights:
  - name: "Cloud Ops Works LLC"
    url: "https://cloudops.works"
    year: "2024"

github_repo: cloudopsworks/terraform-module-aws-observability-synthetics

description: |-
  AWS Observability Synthetics Module for managing canary testing infrastructure. This module enables creation and management of AWS Synthetics canaries organized in groups, with support for URL monitoring, API testing, and custom scripts execution in VPC environments.

# Introduction to the project
introduction: |-
  This Terraform module provides comprehensive management of AWS Synthetics canaries for monitoring endpoints, APIs, and web applications. It supports:
  - Organized canary groups for better resource management
  - VPC-based canary execution
  - Configurable monitoring schedules and retention periods
  - Environment variable management
  - CloudWatch alarms integration
  - SNS notifications for monitoring results

# How to use this project
usage: |-
  Configure canaries using YAML format in your Terraform/Terragrunt configuration:

  groups:
    - name: "monitoring-group"
      tags:
        Environment: "Production"
      canaries:
        - name: "endpoint-monitor"
          runtime_version: "syn-python-selenium-6.0"
          schedule_expression: "rate(5 minutes)"
          requests_type: "URL"
          requests:
            - url: "https://api.example.com/health"
              method: "GET"
              assertions:
                - type: "STATUS_CODE"
                  operator: "EQUALS"
                  value: 200
          run_config:
            timeout_in_seconds: 60
            memory_mb: 1024

# Example usage
examples: |-
  ```hcl
  module "synthetics" {
    source = "cloudopsworks/terraform-module-aws-observability-synthetics"

    groups = [
      {
        name = "api-monitoring"
        canaries = [
          {
            name = "api-health"
            requests_type = "API"
            requests = [
              {
                url = "https://api.example.com/v1/status"
                method = "GET"
                assertions = [
                  {
                    type = "STATUS_CODE"
                    operator = "EQUALS"
                    value = 200
                  }
                ]
              }
            ]
          }
        ]
      }
    ]

    vpc = {
      vpc_id = "vpc-1234567"
      subnet_ids = ["subnet-abcdef"]
    }

    artifacts_bucket = "my-artifacts-bucket"
    sns_topic_name = "monitoring-alerts"
  }
  ```

# How to get started quickly
quickstart: |-
  1. Prepare your AWS environment with required VPC and S3 bucket for artifacts
  2. Define your canary groups and monitoring targets in Terraform configuration
  3. Configure the module with:
     - VPC settings
     - S3 bucket for artifacts
     - SNS topic for notifications
  4. Apply the configuration using Terraform
  5. Monitor your endpoints through AWS Synthetics dashboard

include:
  - "docs/targets.md"
  - "docs/terraform.md"

contributors:
  - name: "Cristian Beraha"
    github: "berahac"